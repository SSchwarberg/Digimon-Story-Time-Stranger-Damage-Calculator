<Application x:Class="DigimonDamageEstimator.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             StartupUri="MainWindow.xaml">
    <Application.Resources>

        <!-- ===== Colors ===== -->
        <Color x:Key="Col.WindowBg">#0E0E10</Color>
        <Color x:Key="Col.Surface">#1A1A1D</Color>
        <Color x:Key="Col.Card">#222226</Color>
        <Color x:Key="Col.Accent">#4FC3F7</Color>
        <Color x:Key="Col.Text">#FFFFFF</Color>
        <Color x:Key="Col.TextDim">#B0B0B0</Color>
        <Color x:Key="Col.Border">#33333A</Color>
        <Color x:Key="Col.Highlight">#2D2D35</Color>
        <Color x:Key="Col.Pressed">#383842</Color>
        <Color x:Key="Col.Danger">#FF6B6B</Color>

        <!-- ===== Brushes ===== -->
        <SolidColorBrush x:Key="Brush.WindowBg" Color="{StaticResource Col.WindowBg}"/>
        <SolidColorBrush x:Key="Brush.Surface" Color="{StaticResource Col.Surface}"/>
        <SolidColorBrush x:Key="Brush.Card" Color="{StaticResource Col.Card}"/>
        <SolidColorBrush x:Key="Brush.Accent" Color="{StaticResource Col.Accent}"/>
        <SolidColorBrush x:Key="Brush.Text" Color="{StaticResource Col.Text}"/>
        <SolidColorBrush x:Key="Brush.TextDim" Color="{StaticResource Col.TextDim}"/>
        <SolidColorBrush x:Key="Brush.Border" Color="{StaticResource Col.Border}"/>
        <SolidColorBrush x:Key="Brush.Highlight" Color="{StaticResource Col.Highlight}"/>
        <SolidColorBrush x:Key="Brush.Pressed" Color="{StaticResource Col.Pressed}"/>
        <SolidColorBrush x:Key="Brush.Danger" Color="{StaticResource Col.Danger}"/>

        <!-- ===== Base Typography ===== -->
        <Style TargetType="Window">
            <Setter Property="Background" Value="{StaticResource Brush.WindowBg}"/>
            <Setter Property="Foreground" Value="{StaticResource Brush.Text}"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontSize" Value="13"/>
        </Style>

        <Style TargetType="TextBlock">
            <Setter Property="Foreground" Value="{StaticResource Brush.Text}"/>
        </Style>

        <!-- ===== TextBox ===== -->
        <Style TargetType="TextBox">
            <Setter Property="Background" Value="{StaticResource Brush.Surface}"/>
            <Setter Property="Foreground" Value="{StaticResource Brush.Text}"/>
            <Setter Property="BorderBrush" Value="{StaticResource Brush.Border}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="6,4"/>
            <Setter Property="CaretBrush" Value="{StaticResource Brush.Accent}"/>
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                CornerRadius="4">
                            <ScrollViewer x:Name="PART_ContentHost"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsKeyboardFocused" Value="True">
                                <Setter Property="BorderBrush" Value="{StaticResource Brush.Accent}"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.6"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- ===== Button ===== -->
        <Style TargetType="Button">
            <Setter Property="Background" Value="{StaticResource Brush.Card}"/>
            <Setter Property="Foreground" Value="{StaticResource Brush.Text}"/>
            <Setter Property="BorderBrush" Value="{StaticResource Brush.Border}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="10,6"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                CornerRadius="6"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="{StaticResource Brush.Highlight}"/>
                                <Setter Property="BorderBrush" Value="{StaticResource Brush.Accent}"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="{StaticResource Brush.Pressed}"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.6"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- ===== GroupBox ===== -->
        <Style TargetType="GroupBox">
            <Setter Property="Foreground" Value="{StaticResource Brush.Text}"/>
            <Setter Property="Background" Value="{StaticResource Brush.Card}"/>
            <Setter Property="BorderBrush" Value="{StaticResource Brush.Border}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="12"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="GroupBox">
                        <Grid>
                            <Border Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="8"
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter/>
                            </Border>
                            <TextBlock Text="{TemplateBinding Header}"
                                       Foreground="{StaticResource Brush.TextDim}"
                                       Background="{StaticResource Brush.WindowBg}"
                                       FontWeight="SemiBold"
                                       Padding="6,0"
                                       Margin="12,-10,0,0"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Top"/>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- ===== ListView ===== -->
        <Style TargetType="ListView">
            <Setter Property="Background" Value="{StaticResource Brush.Surface}"/>
            <Setter Property="Foreground" Value="{StaticResource Brush.Text}"/>
            <Setter Property="BorderBrush" Value="{StaticResource Brush.Border}"/>
            <Setter Property="BorderThickness" Value="1"/>
        </Style>

        <Style TargetType="ListViewItem">
            <Setter Property="Background" Value="{StaticResource Brush.Surface}"/>
            <Setter Property="Foreground" Value="{StaticResource Brush.Text}"/>
            <Setter Property="BorderBrush" Value="{StaticResource Brush.Surface}"/>
            <Setter Property="Padding" Value="6,4"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ListViewItem">
                        <Border x:Name="Bd"
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}">
                            <GridViewRowPresenter
                                Margin="{TemplateBinding Padding}"
                                Content="{TemplateBinding Content}"
                                Columns="{Binding RelativeSource={RelativeSource AncestorType=ListView},
                                                  Path=View.Columns}" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Bd" Property="Background" Value="{StaticResource Brush.Highlight}"/>
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Bd" Property="Background" Value="#2A3A3F"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.6"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="GridViewColumnHeader">
            <Setter Property="Background" Value="{StaticResource Brush.Card}"/>
            <Setter Property="Foreground" Value="{StaticResource Brush.TextDim}"/>
            <Setter Property="BorderBrush" Value="{StaticResource Brush.Border}"/>
            <Setter Property="BorderThickness" Value="0,0,0,1"/>
            <Setter Property="Padding" Value="6,4"/>
        </Style>

        <!-- ===== ScrollViewer + ScrollBar (Fixed) ===== -->
        <Style TargetType="ScrollViewer">
            <Setter Property="Background" Value="{StaticResource Brush.Surface}"/>
        </Style>

        <Style TargetType="ScrollBar">
            <Setter Property="Width" Value="10"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ScrollBar">
                        <Grid Background="{StaticResource Brush.Surface}">
                            <Track x:Name="PART_Track" IsDirectionReversed="True">
                                <Track.Thumb>
                                    <Thumb Background="{StaticResource Brush.Border}">
                                        <Thumb.Template>
                                            <ControlTemplate TargetType="Thumb">
                                                <Border Background="{TemplateBinding Background}"
                                                        CornerRadius="4"/>
                                            </ControlTemplate>
                                        </Thumb.Template>
                                    </Thumb>
                                </Track.Thumb>
                            </Track>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- ===== Separator line helper ===== -->
        <Style x:Key="SeparatorLine" TargetType="Border">
            <Setter Property="Height" Value="1"/>
            <Setter Property="Background" Value="{StaticResource Brush.Border}"/>
            <Setter Property="Margin" Value="0,8,0,8"/>
        </Style>

    </Application.Resources>
</Application>
